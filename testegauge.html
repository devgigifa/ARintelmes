
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Main 7</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set@1.4.0/dist/aframe-event-set.min.js"></script>

    <script>
        AFRAME.registerComponent('maintenance-cursor', {
            init: function() {
                const el = this.el;
                const factText = document.getElementById('fact-text');
                let fact = '';

                fetch('http://numbersapi.com/random/trivia')
                .then(response => response.text())
                .then(data => {
                    fact = data;
                })
                .catch(error => console.error('Erro ao conectar à API:', error));

                el.addEventListener('click', function() {
                    factText.setAttribute('value', fact);
                });
                el.addEventListener('touchstart', function() {
                    factText.setAttribute('value', fact);
                });
            }
        });

        AFRAME.registerComponent('status-cursor', {
            init: function() {
                const el = this.el;
                const factText = document.getElementById('fact-text');
                let fact = '';
                
                fetch('http://numbersapi.com/random/trivia')
                .then(response => response.text())
                .then(data => {
                    fact = data;
                })
                .catch(error => console.error('Erro ao conectar à API:', error));
                
                el.addEventListener('click', function() {
                    factText.setAttribute('value', fact);
                });
                el.addEventListener('touchstart', function() {
                    factText.setAttribute('value', fact);
                });
            }
        });    
    </script>
</head>

<body style="margin: 0px; overflow:hidden">
    <a-scene>
        <a-entity 
            cursor="rayOrigin: mouse;" 
            raycaster="objects: .clickable; far: 10; showLine: true"
        >
        </a-entity>

        <a-box 
            id="grandbox" 
            position="0 2.25 -3"
            rotation="0 0 0"
            color="#00a335" 
            scale="2 2 0.5"
        >
            <a-text 
                id="fact-text" 
                value="" 
                color="white" 
                scale="1.8 2 1" 
                position="0 0 1" align="center" 
                width="0.5"
            >
            </a-text>
        </a-box>

        <a-box 
            id="rightbox" 
            color="#50788a" 
            scale="0.8  0.2 0.3" 
            position="0.6 1 -3"
            rotation="0 0 0"
            maintenance-cursor
            class="clickable"
            raycaster="objects: .clickable; far: 10; showLine: true"
            >
        </a-box>
        
        <a-box 
            id="leftbox" 
            color="#50788a" 
            scale="0.8  0.2 0.3" 
            position="-0.6 1 -3"
            rotation="0 0 0"
            status-cursor
            class="clickable"
            raycaster="objects: .clickable; far: 10; showLine: true"
        >
        </a-box>

        <a-text 
            value="maintenance" 
            color="white" 
            width="1.3"
            scale="1.8 1.8 1.8" 
            position="0.5 1.1 -2.4" align="center" 
        >
        </a-text>
        
        <a-text 
            value="status" 
            color="white" 
            width="1.3"
            scale="1.8 1.8 1.8" 
            position="-0.5 1.1 -2.4" align="center" 
        >
        </a-text>   

        <a-box 
            id="blackbox" 
            position="0 0.2 -3"
            rotation="0 0 0"
            color="#000" 
            scale="2 1 0.5"
        >
        </a-box>

        <!-- Gauge OEE -->
        <a-entity 
            id="gauge-OEE" 
            position="0 -0.3 -2" 
            scale="1.2 1.2 1.2"
        >
            <a-ring 
                id="ring-OEE" 
                color="blue" 
                radius-inner="0.5" 
                radius-outer="0.6" 
                theta-start="0" 
                theta-length="0"
                position="0 0 -2" 
                scale="1.2 1.2 1.2"    
            ></a-ring>
            <a-text 
                id="text-OEE" 
                value="OEE: 0%" 
                position="-0.4 0.98 0" 
                align="center"
                color="white"
                scale="0.3 0.3 0.3"
                ></a-text>
        </a-entity>

        <!-- Gauge Disponibilidade -->
        <a-entity id="gauge-Disponibilidade" position="-0.5 0.5 0" scale="1.2 1.2 1.2">
            <a-ring id="ring-Disponibilidade" color="orange" radius-inner="0.5" radius-outer="0.6" theta-start="0" theta-length="0"></a-ring>
            <a-text id="text-Disponibilidade" value="Disp: 0%" position="0 0.8 0" align="center" color="white"></a-text>
        </a-entity>

        <!-- Gauge Performance -->
        <a-entity id="gauge-Performance" position="0.5 0.5 0" scale="1.2 1.2 1.2">
            <a-ring id="ring-Performance" color="green" radius-inner="0.5" radius-outer="0.6" theta-start="0" theta-length="0"></a-ring>
            <a-text id="text-Performance" value="Perf: 0%" position="0 0.8 0" align="center" color="white"></a-text>
        </a-entity>

        <!-- Gauge Qualidade -->
        <a-entity id="gauge-Qualidade" position="1.5 0.5 0" scale="1.2 1.2 1.2">
            <a-ring id="ring-Qualidade" color="yellow" radius-inner="0.5" radius-outer="0.6" theta-start="0" theta-length="0"></a-ring>
            <a-text id="text-Qualidade" value="Qual: 0%" position="0 0.8 0" align="center" color="white"></a-text>
        </a-entity>  
    </a-scene>
</body>
</html>